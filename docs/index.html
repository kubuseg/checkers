<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>warcaby</title><meta name="description" content="Documentation for warcaby"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">warcaby</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>warcaby</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#zaawansowane-programowanie-w-c" id="zaawansowane-programowanie-w-c" style="color: inherit; text-decoration: none;">
  <h1>Zaawansowane programowanie w C++</h1>
</a>
<p>Gra na przeglÄ…darkÄ™ z uÅ¼yciem WebAssembly</p>

<a href="#dokumentacja-wstÄ™pna-projektu" id="dokumentacja-wstÄ™pna-projektu" style="color: inherit; text-decoration: none;">
  <h4>Dokumentacja wstÄ™pna projektu</h4>
</a>
<p>SkÅ‚ad zespoÅ‚u: Katarzyna Glaza, Jakub Nitkiewicz</p>
<p><a href="#_Toc138335219">OgÃ³lny opis projektu	1</a></p>
<p><a href="#_Toc373063069">Temat projektu	1</a></p>
<p><a href="#_Toc1065200622">Zasady gry	1</a></p>
<p><a href="#_Toc750165419">Dodatkowe zaÅ‚oÅ¼enia	2</a></p>
<p><a href="#_Toc793952479">Technologie	2</a></p>
<p><a href="#_Toc2088189025">Zadania do wykonania	2</a></p>
<p><a href="#_Toc2045757164">Etap 1.	2</a></p>
<p><a href="#_Toc535475920">Etap 2.	3</a></p>
<p><a href="#_Toc1717203983">Planowane testy	3</a></p>

<a href="#ogÃ³lny-opis-projektu" id="ogÃ³lny-opis-projektu" style="color: inherit; text-decoration: none;">
  <h1>OgÃ³lny opis projektu</h1>
</a>
<p>Zadanie polega na napisaniu gry w architekturze klient-serwer, klient powinien wykorzystywaÄ‡ jedynie przeglÄ…darkÄ™ www. Dodatkowo klient powinien byÄ‡ zaimplementowany przy uÅ¼yciu WebAssembly.</p>
<p>Gra powinna byÄ‡ przynajmniej dwuosobowa. ReguÅ‚y gry - wikipedia lub inne ÅºrÃ³dÅ‚o. ZespÃ³Å‚ moÅ¼e wybraÄ‡ nastÄ™pujÄ…ce opcje: Gra dwuosobowa, aplikacja dba o przestrzeganie zasad Gra jednoosobowa z komputerem, wtedy naleÅ¼y dostarczyÄ‡ algorytm dla sztucznego gracza, wykorzystujÄ…cy np. drzewo gry. Przy wyborze pierwszej opcji implementacja logiki gry nie musi znajdowaÄ‡ siÄ™ na serwerze.</p>
<p>WASM moÅ¼na generowaÄ‡ m.in. na podstawie kodu w jÄ™zyku Rust albo C++.</p>

<a href="#temat-projektu" id="temat-projektu" style="color: inherit; text-decoration: none;">
  <h1>Temat projektu</h1>
</a>
<p>GrÄ… dwuosobowÄ…, ktÃ³rÄ… zaimplementujemy sÄ… warcaby w wariancie polskim. ZostanÄ… one napisane w dwÃ³ch trybach: jako gra dwuosobowa oraz gra z komputerem. Dodatkowo, zaimplementowany zostanie algorytm wyboru ruchÃ³w komputera - algorytm minimax z ciÄ™ciami ğ›¼âˆ’ğ›½Â . </p>

<a href="#zasady-gry" id="zasady-gry" style="color: inherit; text-decoration: none;">
  <h1>Zasady gry</h1>
</a>
<p>Zasady gry, wedÅ‚ug ktÃ³rych zaimplementowana zostanie gra sÄ… nastÄ™pujÄ…ce:</p>
<p>Pionki graczy umieszczone sÄ… na ciemnych polach planszy o rozmiarze 10x10. KaÅ¼dy gracz rozpoczyna grÄ™ z dwudziestoma pionkami swojego koloru (biaÅ‚ymi lub czarnymi). Pionki ustawione sÄ… na planszy w ten sposÃ³b, Å¼e dwa Å›rodkowe rzÄ™dy planszy sÄ… wolne. Jako pierwszy ruch wykonuje gracz poruszajÄ…cy siÄ™ biaÅ‚ymi pionkami, ruchy obydwu graczy sÄ… naprzemienne. Bicie pionkÃ³w jest obowiÄ…zkowe do koÅ„ca (jeÅ¼eli gracz ma moÅ¼liwoÅ›Ä‡ bicia wiÄ™cej niÅ¼ jednego pionka, musi wykonaÄ‡ maksymalnÄ… liczbÄ™ biÄ‡). Celem gry jest zbicie wszystkich pionkÃ³w przeciwnika lub uniemoÅ¼liwienie wykonania przez niego ruchu. Pionek moÅ¼e poruszaÄ‡ siÄ™ po przekÄ…tnej na wolne pole i ma moÅ¼liwoÅ›Ä‡ swobodnego przejÅ›cia o jedno pole. W przypadku bicia, pionek moÅ¼e poruszaÄ‡ siÄ™ do przodu oraz do tyÅ‚u wykonujÄ…c wiÄ™cej skokÃ³w. Pionek, ktÃ³ry dotrze na przeciwny koniec planszy zamienia siÄ™ w damkÄ™. Damka porusza siÄ™ o dowolnÄ… liczbÄ™ pÃ³l do przodu lub do tyÅ‚u po przekÄ…tnej. Damka bijÄ…c pionka przeskakuje na pole za zbitym pionkiem i moÅ¼e kontynuowaÄ‡ bicie na tej samej lub prostopadÅ‚ej linii. </p>

<a href="#dodatkowe-zaÅ‚oÅ¼enia" id="dodatkowe-zaÅ‚oÅ¼enia" style="color: inherit; text-decoration: none;">
  <h1>Dodatkowe zaÅ‚oÅ¼enia</h1>
</a>
<p>Poza zastosowaniem zasad zgodnymi z polskÄ… wersjÄ… gry, wprowadzone zostanÄ… takÅ¼e nastÄ™pujÄ…ce zaÅ‚oÅ¼enia:</p>
<p>UÅ¼ytkownik przed rozpoczÄ™ciem gry moÅ¼e wybraÄ‡ jeden z jej dwÃ³ch dostÄ™pnych trybÃ³w: grÄ™ z innym uÅ¼ytkownikiem oraz grÄ™ z komputerem. Przy wyborze gry dwuosobowej uÅ¼ytkownik jest pytany o swojÄ… nazwÄ™ i oczekuje aÅ¼ do pojawienia siÄ™ drugiego gracza. Przed rozpoczÄ™ciem rozgrywki, bÄ™dzie miaÅ‚ moÅ¼liwoÅ›Ä‡ wyboru koloru pionkÃ³w, przyjmiemy rÃ³wnieÅ¼ uproszczenie, Å¼e kaÅ¼dy uÅ¼ytkownik ma umiejscowione swoje pionki na spodzie planszy, a zbite pionki zostajÄ… usuniÄ™te z planszy po wykonaniu bicia do koÅ„ca. Dodatkowo, na ekranie bÄ™dÄ… znajdowaÅ‚y siÄ™ liczniki zbitych pionkÃ³w dla obydwu graczy.</p>

<a href="#technologie" id="technologie" style="color: inherit; text-decoration: none;">
  <h1>Technologie</h1>
</a>
<p>Gra zostanie zaimplementowana w jÄ™zyku Rust, w implementacji backendu wykorzystamy WebAssembly, a frontendu - JavaScript. Dodatkowo, skorzystamy z takich narzÄ™dzi jak:</p>
<ul>
<li>wasm-pack, ktÃ³ry posÅ‚uÅ¼y do budowania, testowania i publikowania WebAssembly generowanego przez Rust,</li>
<li>cargo, ktÃ³ry jest menadÅ¼erem pakietÃ³w Rust,</li>
<li>npm, ktÃ³ry jest menadÅ¼erem pakietÃ³w JavaScript,</li>
<li>rustfmt, ktÃ³ry sÅ‚uÅ¼y do formatowania kodu,</li>
<li>clippy, ktÃ³re sÅ‚uÅ¼y do statycznej analizy kodu</li>
</ul>

<a href="#zadania-do-wykonania" id="zadania-do-wykonania" style="color: inherit; text-decoration: none;">
  <h1>Zadania do wykonania</h1>
</a>
<p>W realizacji praktycznej czÄ™Å›ci naszego projektu wyrÃ³Å¼niamy 2 podstawowe etapy.</p>
<p>W etapie 1. konfigurujemy wszystkie narzÄ™dzia i setupujemy Å›rodowisko, implementujemy frontend i backend aplikacji oraz zapewniamy przepÅ‚yw informacji pomiÄ™dzy nimi, natomiast w etapie 2. implementujemy logikÄ™ gry w warcaby w obu trybach.</p>

<a href="#etap-1" id="etap-1" style="color: inherit; text-decoration: none;">
  <h2>Etap 1.</h2>
</a>
<ol>
<li>Skonfigurowanie zestawu narzÄ™dzi Rust do kompilacji do WebAssembly, podstawowe poÅ‚Ä…czenie WebAssembly z JavaScript</li>
<li>Stworzenie GUI</li>
<li>Zapewnienie przepÅ‚ywu informacji pomiÄ™dzy wszystkimi komponentami</li>
</ol>

<a href="#etap-2" id="etap-2" style="color: inherit; text-decoration: none;">
  <h2>Etap 2.</h2>
</a>
<ol>
<li>Implementacja logiki gry w trybie dla dwÃ³ch osÃ³b</li>
<li>Implementacja algorytmu minimax z ciÄ™ciem ğ›¼âˆ’ğ›½Â do wersji trybu gry z komputerem</li>
</ol>

<a href="#planowane-testy" id="planowane-testy" style="color: inherit; text-decoration: none;">
  <h1>Planowane testy</h1>
</a>
<p>ZostanÄ… przeprowadzone testy jednostkowe poprawnoÅ›ci dziaÅ‚ania metod zwiÄ…zanych z logikÄ… gry, a takÅ¼e testy integracyjne sprawdzajÄ…ce czy wszystkie komponenty wspÃ³Å‚dziaÅ‚ajÄ… ze sobÄ… poprawnie. Do napisanie testÃ³w wykorzystane zostanie narzÄ™dzie wbudowane cargo-test oraz wasm-pack. Dodatkowo, w algorytmie minimax dostrojony zostanie parametr gÅ‚Ä™bokoÅ›ci tak, aby komputer nie graÅ‚ â€œzbyt dobrzeâ€, a uÅ¼ytkownik miaÅ‚ szansÄ™ wygrania rozgrywanej z nim partii.</p>

<a href="#szkielet-aplikacji" id="szkielet-aplikacji" style="color: inherit; text-decoration: none;">
  <h1>Szkielet Aplikacji</h1>
</a>

<a href="#instrukcja-zbudowania-i-przetestowania-aplikacji" id="instrukcja-zbudowania-i-przetestowania-aplikacji" style="color: inherit; text-decoration: none;">
  <h2>Instrukcja zbudowania i przetestowania aplikacji:</h2>
</a>
<p><strong>Wymagania wstÄ™pne:</strong></p>
<p>NarzÄ™dzia:</p>
<ul>
<li>rustup</li>
<li>rustc</li>
<li>rustdoc</li>
<li>typedoc</li>
<li>cargo</li>
<li>cargo-generate</li>
<li>npm</li>
</ul>
<p>Pobranie ich jest opisane na stronie <a href="url">https://rustwasm.github.io/book/game-of-life/setup.html</a></p>
<p><strong>NastÄ™pnie naleÅ¼y wykonaÄ‡ nastÄ™pujÄ…ce kroki:</strong></p>
<ul>
<li>SklonowaÄ‡ projekt</li>
<li>W folderze rust-wasm-lib uruchomiÄ‡ <code>wasm-pack build</code></li>
<li>W gÅ‚Ã³wnym kalalogu projektu uruchomiÄ‡ <code>npm install</code></li>
<li>NastÄ™pnie moÅ¼na przetestowaÄ‡ rozwiÄ…zanie wpisujÄ…c <code>npm start</code></li>
</ul>

<a href="#generowanie-dokumetacji" id="generowanie-dokumetacji" style="color: inherit; text-decoration: none;">
  <h2>Generowanie dokumetacji</h2>
</a>
<p>Dla rust:
<code>rustdoc rust-wasm-lib/src/lib.rs --crate-name docs</code></p>
<p>Dla typesript:
<code>npx typedoc src/index.tsx</code></p>

<a href="#dokomentacja-koÅ„cowa" id="dokomentacja-koÅ„cowa" style="color: inherit; text-decoration: none;">
  <h1>Dokomentacja KoÅ„cowa</h1>
</a>
<p>Schemat archutektury systemu
<img src="Images/ZPR_diagram_klas.drawio.png" alt="image info"></p>
<p>Z zakresu wyznaczonych wczeÅ›niej prac udaÅ‚o siÄ™ osiÄ…gnÄ…Ä‡:</p>
<ul>
<li><p><strong>ZaÅ‚oÅ¼enia etapu 1</strong> -
w ktÃ³re siÄ™ wliczaÅ‚o Skonfigurowanie projektu, stworzenie prostego GUI i zapewniemie przepÅ‚ywu informacji pomiÄ™dzy Rustem a typesriptem</p>
</li>
<li><p><strong>ZaÅ‚oÅ¼enia etapu 2</strong> - ktÃ³re zakÅ‚adaÅ‚y stworzenie logiki gry oraz implementacja gry w trybie dla dwÃ³ch graczy jak i z botem.</p>
</li>
</ul>
<p>Z zakresu wyznaczonych wczeÅ›niej prac nie udaÅ‚o siÄ™ osiÄ…gnÄ…Ä‡:</p>
<ul>
<li>Przy trybie dwuosobowym chcieliÅ›my by kaÅ¼dy gracz wpisywaÅ‚ swÃ³j nick i nastÄ™pnie w oddzielnych oknach przeglÄ…darki kaÅ¼dy gracz widziaÅ‚by swoje pionki na dole planszy i tak odbywaÅ‚a by siÄ™ gra. Nie udaÅ‚o nam siÄ™ tego nie stety zaimplementowaÄ‡ i zostaliÅ›my na graniu w jednym oknie przeglÄ…darki gdzie jeden gracz ma swoje pionki na gÃ³rze planyszy a drugi na dole.</li>
<li>Licznik zbitych pionkÃ³w - uznaliÅ›my, Å¼e jest to niepotrzebne.</li>
</ul>
<p>Napotkane przeszkody i rozwiÄ…zania na nie:</p>
<ul>
<li>PoczÄ…tkowo duÅ¼a przeszkodÄ… byÅ‚o uÅ¼ywanie zmiennych z typesripta w kodzie rusta, poniewaÅ¼ trzeba byÅ‚o konwertowaÄ‡ <code>JsValue</code> na odpowiedi typ z rust. Problem ten rozwiÄ…zaliÅ›my dziÄ™ki uÅ¼yciu biblioteki <code>serde_wasm_bindgen</code> ktÃ³ra znacznie uÅ‚atwiÅ‚a te zadanie do jednej funkcji.</li>
<li>Kolejnym problemem byÅ‚o uÅ¼ycie rusta w typesript, poniewaÅ¼ bez zainicjalizowania biblioteki funkcje z rusta nie chciaÅ‚y dziaÅ‚aÄ‡. RozwiÄ…zaliÅ›my ten problem uÅ¼ywajÄ…c dynamicznego importu biblioteki i inicjalizacji w <code>useEffect</code> dziÄ™ki czemu nie musieliÅ›my odpalaÄ‡ ponownie serwera po kompilacji kodu rusta.</li>
</ul>
<p>Zmiany w porÃ³wnaniu do originalnego planu:</p>
<ul>
<li>PoczÄ…tkowo planowliÅ›my uÅ¼ywaÄ‡ <code>JavaScript + react + rust</code> lecz zdecydowaliÅ›my siÄ™ na <code>typescript + react + rust</code> dziÄ™ki czemu wszÄ™dzie byÅ‚y statyczne typy uÅ‚atwiaÅ‚o to wspÃ³Å‚pracÄ™ z rust ktÃ³ry umoÅ¼liwia deklaracje definicji funkcji w typescript dziÄ™ki czemu pÃ³Åºniej jest ich Å‚atwiej uÅ¼ywaÄ‡.</li>
</ul>
<p>Dlaczego projekt zasÅ‚uguje na dobrÄ… ocene:</p>
<ul>
<li>ZostaÅ‚y wykonane wszystkie gÅ‚Ã³wne zaÅ‚oÅ¼enia projektu</li>
<li>Schludny interfecs graficzny i kod zgodny z dobrÄ… praktykÄ… programowania</li>
<li>UÅ¼ycie w kodzie zalet poszczegÃ³lnych jezykÃ³w i ich zaawansowanych mechanizmÃ³w np. dla reacta uÅ¼ycie &quot;Effect Hook&quot; co pozwalaÅ‚o na pisanie mniejszej iloÅ›ci kodu, dla typescript uÅ¼ycie interfejsÃ³w co popawia czytelnoÅ›Ä‡ kodu, dla rusta uÅ¼ycie obiektowoÅ›ci jÄ™zyka i specyfikowania czasu Å¼ycia obiektÃ³w.</li>
<li>UÅ¼ycie narzÄ™dzi do formatowania kodu</li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">warcaby</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky"></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>